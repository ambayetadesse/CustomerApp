(window.webpackJsonp=window.webpackJsonp||[]).push([[14,19,20],{"+cje":function(t,e,i){"use strict";i.d(e,"a",function(){return l});var r=i("HDdC"),o=i("XEKg"),s=i("5Jak"),n=i("/GcI"),c=i("cxbk"),a=i("fXoL"),d=i("tk/3");let l=(()=>{class t{constructor(t){this.http=t,this.APIURL=c.a.apiURL}create(t){return this.http.post(this.APIURL+"/restaurant",t)}getAllRestaurant(){return this.http.get(this.APIURL+"/restaurant")}updateRestaurant(t){return this.http.put(this.APIURL+"/restaurant/",t)}removeRestaurant(t){return this.http.delete(this.APIURL+"/restaurant/"+t).toPromise()}handleError(t){return r.a.throw(400===t.status?new o.a(t.json()):404===t.status?new s.a:new n.a(t))}}return t.\u0275fac=function(e){return new(e||t)(a.cc(d.a))},t.\u0275prov=a.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"+p+5":function(t,e,i){"use strict";i.r(e),i.d(e,"OrderPageModule",function(){return L});var r=i("ofXK"),o=i("3Pt+"),s=i("TEn/"),n=i("tyNb"),c=i("mrSG"),a=i("YHxn"),d=i("fXoL"),l=i("Dkj+"),u=i("VNSQ"),h=i("6wYF"),b=i("8D9V"),f=i("ldse"),m=i("+cje"),g=i("Wwn5");const p=["pageTop"];function v(t,e){if(1&t){const t=d.Wb();d.Vb(0,"ion-row",17),d.gc("click",function(){d.wc(t);const i=e.$implicit;return d.ic(2).allOrder(i,i.id)}),d.Vb(1,"ion-col",18),d.Vb(2,"ion-label"),d.Ec(3),d.Vb(4,"p"),d.Ec(5),d.jc(6,"date"),d.Ub(),d.Ub(),d.Vb(7,"ion-text",19),d.Vb(8,"b"),d.Ec(9),d.jc(10,"currency"),d.Ub(),d.Ub(),d.Ub(),d.Vb(11,"ion-col",20),d.Vb(12,"ion-label",21),d.Ec(13),d.Ub(),d.Ub(),d.Ub()}if(2&t){const t=e.$implicit;d.Eb(3),d.Gc(" ",t.restaurantName," "),d.Eb(2),d.Fc(d.lc(6,4,t.DateTime,"short")),d.Eb(4),d.Gc("Total : ",d.lc(10,7,t.Total,"ETB"),""),d.Eb(4),d.Fc(t.OrderStatus)}}function O(t,e){if(1&t&&(d.Vb(0,"ion-label",22),d.Ec(1),d.Ub()),2&t){const t=d.ic(2);d.Eb(1),d.Fc(t.messageOrder)}}function I(t,e){if(1&t&&(d.Vb(0,"ion-list"),d.Cc(1,v,14,10,"ion-row",15),d.Cc(2,O,2,1,"ion-label",16),d.Ub()),2&t){const t=d.ic();d.Eb(1),d.oc("ngForOf",t.listOfOrder),d.Eb(1),d.oc("ngIf",0==t.listOfOrder.length)}}function C(t,e){if(1&t){const t=d.Wb();d.Vb(0,"ion-row",24),d.Vb(1,"ion-col",18),d.Vb(2,"ion-label"),d.Ec(3),d.Vb(4,"p"),d.Ec(5),d.jc(6,"date"),d.Ub(),d.Vb(7,"ion-button",25),d.gc("click",function(){d.wc(t);const i=e.$implicit;return d.ic(2).location(i.Location)}),d.Rb(8,"ion-icon",26),d.Ub(),d.Ub(),d.Vb(9,"ion-text",19),d.Vb(10,"b"),d.Ec(11),d.jc(12,"currency"),d.Ub(),d.Ub(),d.Rb(13,"br"),d.Vb(14,"ion-text",27),d.Ec(15),d.Ub(),d.Ub(),d.Vb(16,"ion-col",20),d.Vb(17,"ion-label",21),d.Ec(18),d.Ub(),d.Vb(19,"ion-button",28),d.gc("click",function(){d.wc(t);const i=e.$implicit;return d.ic(2).viewOrder(i.id)}),d.Ec(20," view order "),d.Ub(),d.Vb(21,"button",29),d.gc("click",function(){d.wc(t);const i=e.$implicit;return d.ic(2).sendMessage(i.DriverId,i.CustomerId,i.Driver)}),d.Ec(22," Send message "),d.Ub(),d.Vb(23,"button",30),d.gc("click",function(){d.wc(t);const i=e.$implicit;return d.ic(2).callToDriver(i.driverPhonenumber)}),d.Rb(24,"ion-icon",31),d.Ub(),d.Ub(),d.Ub()}if(2&t){const t=e.$implicit;d.Eb(3),d.Gc(" ",t.restaurantName," "),d.Eb(2),d.Fc(d.lc(6,5,t.DateTime,"short")),d.Eb(6),d.Gc("Total : ",d.lc(12,8,t.Total,"ETB"),""),d.Eb(4),d.Gc("",t.Driver," is picking up your order "),d.Eb(3),d.Fc(t.OrderStatus)}}function U(t,e){if(1&t&&(d.Vb(0,"ion-label",22),d.Ec(1),d.Ub()),2&t){const t=d.ic(2);d.Eb(1),d.Fc(t.messageOrder)}}function P(t,e){if(1&t&&(d.Vb(0,"ion-list"),d.Cc(1,C,25,11,"ion-row",23),d.Cc(2,U,2,1,"ion-label",16),d.Ub()),2&t){const t=d.ic();d.Eb(1),d.oc("ngForOf",t.listOfOrderProcessing),d.Eb(1),d.oc("ngIf",0==t.listOfOrderProcessing.length)}}function w(t,e){if(1&t){const t=d.Wb();d.Vb(0,"ion-row",24),d.Vb(1,"ion-col",18),d.Vb(2,"ion-label"),d.Ec(3),d.Vb(4,"p"),d.Ec(5),d.jc(6,"date"),d.Ub(),d.Vb(7,"ion-button",25),d.gc("click",function(){d.wc(t);const i=e.$implicit;return d.ic(2).location(i.Location)}),d.Rb(8,"ion-icon",26),d.Ub(),d.Ub(),d.Vb(9,"ion-text",19),d.Vb(10,"b"),d.Ec(11),d.jc(12,"currency"),d.Ub(),d.Ub(),d.Ub(),d.Vb(13,"ion-col",20),d.Vb(14,"ion-label",21),d.Ec(15),d.Ub(),d.Vb(16,"ion-button",28),d.gc("click",function(){d.wc(t);const i=e.$implicit;return d.ic(2).viewOrder(i.id)}),d.Ec(17," view order "),d.Ub(),d.Ub(),d.Ub()}if(2&t){const t=e.$implicit;d.Eb(3),d.Gc(" ",t.restaurantName," "),d.Eb(2),d.Fc(d.lc(6,4,t.DateTime,"short")),d.Eb(6),d.Gc("Total : ",d.lc(12,7,t.Total,"ETB"),""),d.Eb(4),d.Fc(t.OrderStatus)}}function S(t,e){if(1&t&&(d.Vb(0,"ion-label",22),d.Ec(1),d.Ub()),2&t){const t=d.ic(2);d.Eb(1),d.Fc(t.messageOrder)}}function E(t,e){if(1&t&&(d.Vb(0,"ion-list"),d.Cc(1,w,18,10,"ion-row",23),d.Cc(2,S,2,1,"ion-label",16),d.Ub()),2&t){const t=d.ic();d.Eb(1),d.oc("ngForOf",t.listOfOrderCompeleted),d.Eb(1),d.oc("ngIf",0==t.listOfOrderCompeleted.length)}}function y(t,e){if(1&t){const t=d.Wb();d.Vb(0,"ion-row",24),d.Vb(1,"ion-col",18),d.Vb(2,"ion-label"),d.Ec(3),d.Vb(4,"p"),d.Ec(5),d.jc(6,"date"),d.Ub(),d.Vb(7,"ion-button",25),d.gc("click",function(){d.wc(t);const i=e.$implicit;return d.ic(2).location(i.Location)}),d.Rb(8,"ion-icon",26),d.Ub(),d.Ub(),d.Vb(9,"ion-text",19),d.Vb(10,"b"),d.Ec(11),d.jc(12,"currency"),d.Ub(),d.Ub(),d.Ub(),d.Vb(13,"ion-col",20),d.Vb(14,"ion-label",21),d.Ec(15),d.Ub(),d.Vb(16,"ion-button",28),d.gc("click",function(){d.wc(t);const i=e.$implicit;return d.ic(2).viewOrder(i.id)}),d.Ec(17," view order "),d.Ub(),d.Ub(),d.Ub()}if(2&t){const t=e.$implicit;d.Eb(3),d.Gc(" ",t.restaurantName," "),d.Eb(2),d.Fc(d.lc(6,4,t.DateTime,"short")),d.Eb(6),d.Gc("Total : ",d.lc(12,7,t.Total,"ETB"),""),d.Eb(4),d.Fc(t.OrderStatus)}}function A(t,e){if(1&t&&(d.Vb(0,"ion-label",22),d.Ec(1),d.Ub()),2&t){const t=d.ic(2);d.Eb(1),d.Fc(t.messageOrder)}}function D(t,e){if(1&t&&(d.Vb(0,"ion-list"),d.Cc(1,y,18,10,"ion-row",23),d.Cc(2,A,2,1,"ion-label",16),d.Ub()),2&t){const t=d.ic();d.Eb(1),d.oc("ngForOf",t.listOfOrderCancelled),d.Eb(1),d.oc("ngIf",0==t.listOfOrderCancelled.length)}}const V=function(t,e){return{"location-visible":t,"location-hidden":e}},R=[{path:"",component:(()=>{class t{constructor(t,e,i,r,o,s,n,c,a,d,l){this.foodService=t,this.orderService=e,this.accountService=i,this.orderDetailsService=r,this.router=o,this.sharedService=s,this.restaurantService=n,this.modalController=c,this.callNumber=a,this.loadingController=d,this.toastController=l,this.listOfOrder=[],this.listOfOrderDetails=[],this.cart=[],this.messageOrder="Preparing your order ...",this.opts={freeMode:!0,slidesPerView:4.6,slidesOffsetBefore:100,slidesOffsetAfter:100},this.activeCategory=0,this.segment="All",this.listOfOrderProcessing=[],this.listOfOrderCompeleted=[],this.listOfOrderCancelled=[],this.isLoading=!1,this.showLocationDetail=!1,this.currentPage=1,this.showScroll=!1,this.listArrayOfProduct=[],this.displayedlist=[]}pageScroller(){this.pageTop.scrollToTop()}ngOnInit(){return Object(c.a)(this,void 0,void 0,function*(){this.loader=yield this.loadingController.create({message:"loading ...",spinner:"bubbles",animated:!0}),yield this.loader.present().then(),this.getOrder(),this.getRestaurant(),this.getAccount(),this.getFood(),this.getOrderDetails(),this.getProcessingOrder(),this.getCompeletedOrder(),this.getCancelledOrder()})}getRestaurant(){return Object(c.a)(this,void 0,void 0,function*(){this.restaurantService.getAllRestaurant().subscribe(t=>Object(c.a)(this,void 0,void 0,function*(){yield this.loader.dismiss().then(),this.listOfRestaurant=yield t}),t=>Object(c.a)(this,void 0,void 0,function*(){yield this.loader.dismiss().then(),console.log(t)}))})}getAccount(){return Object(c.a)(this,void 0,void 0,function*(){this.accountService.getAllAccount().subscribe(t=>Object(c.a)(this,void 0,void 0,function*(){yield this.loader.dismiss().then(),this.listOfAccount=yield t}))})}getFood(){return Object(c.a)(this,void 0,void 0,function*(){this.foodService.getAllFood().subscribe(t=>Object(c.a)(this,void 0,void 0,function*(){yield this.loader.dismiss().then(),this.listOfFood=yield t}),t=>Object(c.a)(this,void 0,void 0,function*(){yield this.loader.dismiss().then(),console.log(t)}))})}getOrderDetails(){return Object(c.a)(this,void 0,void 0,function*(){this.orderDetailsService.getAllOrderDetail().subscribe(t=>Object(c.a)(this,void 0,void 0,function*(){yield this.loader.dismiss().then(),this.listOfOrderDetails=yield t}),t=>Object(c.a)(this,void 0,void 0,function*(){yield this.loader.dismiss().then(),console.log(t)}))})}onScroll(t){const e=t.detail.scrollTop;this.showLocationDetail=e>40,this.showScroll=e>300}getOrder(){this.orderService.getAllOrder().subscribe(t=>Object(c.a)(this,void 0,void 0,function*(){yield this.loader.dismiss().then(),this.UserId=localStorage.getItem("userId");const e=t.filter(t=>t.customer===this.UserId);e.length>0?(this.listOfOrder=[],e.forEach(t=>{if(this.getStatusOfOrder(t),null!=this.listOfRestaurant&&null!=this.listOfAccount){const e=this.listOfRestaurant.find(e=>e.accountId===+t.restaurantId),i={id:t.id,DateTime:t.dateTime,Customer:this.listOfAccount.find(e=>e.id===+t.customer).fullName,Location:t.location,OrderStatus:this.orderStatuses,Total:t.total,Driver:t.driver,Vehicle:t.vehicle,orderLocation:t.orderLocation,restaurantName:e.name};this.listOfOrder.push(i),this.listOfOrder.sort((t,e)=>new Date(e.DateTime).getTime()-new Date(t.DateTime).getTime())}else this.refreshRestaurant()})):(this.massge=!0,this.messageOrder="Preparing your order ...")}),t=>Object(c.a)(this,void 0,void 0,function*(){yield this.loader.dismiss().then(),console.log(t)}))}getProcessingOrder(){return Object(c.a)(this,void 0,void 0,function*(){this.orderService.getAllOrder().subscribe(t=>Object(c.a)(this,void 0,void 0,function*(){yield this.loader.dismiss().then(),this.listOfOrderProcessing=[],this.UserId=localStorage.getItem("userId");let e=yield t.filter(t=>t.orderStatuses.find(t=>0==t.isChecked&&"delivered"==t.val)&&t.customer==this.UserId);e.length>0?e.forEach(t=>{""!==t.driver&&this.accountService.getAllAccount().subscribe(e=>{let i=e.find(e=>e.id==+t.customer),r=e.find(e=>e.id==+t.driver);this.getStatusOfOrder(t),r?(this.driverPhone=r.phonenumber,this.driverName=r.fullName):(this.driverPhone="",this.driverName="");let o={id:t.id,DateTime:t.dateTime,Customer:i.fullName,Location:t.location,OrderStatus:this.orderStatuses,driverPhonenumber:this.driverPhone,Total:t.total,Driver:this.driverName,DriverId:t.driver,CustomerId:t.customer,Vehicle:t.vehicle,orderLocation:t.orderLocation,restaurantName:this.listOfRestaurant.find(e=>e.accountId===+t.restaurantId).name};this.listOfOrderProcessing.push(o),this.listOfOrderProcessing.sort((t,e)=>new Date(e.DateTime).getTime()-new Date(t.DateTime).getTime())})}):(this.massge=!0,this.messageProcessingOrder="Preparing your order ...")}),t=>Object(c.a)(this,void 0,void 0,function*(){yield this.loader.dismiss().then(),console.log(t)}))})}getCompeletedOrder(){return Object(c.a)(this,void 0,void 0,function*(){this.orderService.getAllOrder().subscribe(t=>Object(c.a)(this,void 0,void 0,function*(){this.listOfOrderCompeleted=[],this.UserId=localStorage.getItem("userId");let e=yield t.filter(t=>t.orderStatuses.find(t=>1==t.isChecked&&"delivered"==t.val)&&t.customer==this.UserId);e.length>0?e.forEach(t=>{this.accountService.getAllAccount().subscribe(e=>{let i={id:t.id,DateTime:t.dateTime,Customer:e.find(e=>e.id==+t.customer).fullName,Location:t.location,OrderStatus:"Completed",Total:t.total,Driver:t.driver,Vehicle:t.vehicle,orderLocation:t.orderLocation,restaurantName:this.listOfRestaurant.find(e=>e.accountId===+t.restaurantId).name};this.listOfOrderCompeleted.push(i),this.listOfOrderCompeleted.sort((t,e)=>new Date(e.DateTime).getTime()-new Date(t.DateTime).getTime())})}):(this.massge=!0,this.messageCompleteOrder="Preparing your order ...")}),t=>Object(c.a)(this,void 0,void 0,function*(){yield this.loader.dismiss().then(),console.log(t)}))})}getCancelledOrder(){return Object(c.a)(this,void 0,void 0,function*(){this.orderService.getAllOrder().subscribe(t=>Object(c.a)(this,void 0,void 0,function*(){this.listOfOrderCancelled=[],this.UserId=localStorage.getItem("userId");let e=yield t.filter(t=>"false"==t.customerStatus&&t.customer==this.UserId);e.length>0?e.forEach(t=>{this.accountService.getAllAccount().subscribe(e=>{let i={id:t.id,DateTime:t.dateTime,Customer:e.find(e=>e.id==+t.customer).fullName,Location:t.location,OrderStatus:"Cancelled",Total:t.total,Driver:t.driver,Vehicle:t.vehicle,orderLocation:t.orderLocation,restaurantName:this.listOfRestaurant.find(e=>e.accountId===+t.restaurantId).name};this.listOfOrderCancelled.push(i),this.listOfOrderCancelled.sort((t,e)=>new Date(e.DateTime).getTime()-new Date(t.DateTime).getTime())})}):(this.massge=!0,this.messageCancelOrder="Preparing your order ...")}),t=>Object(c.a)(this,void 0,void 0,function*(){yield this.loader.dismiss().then(),console.log(t)}))})}getStatusOfOrder(t){return Object(c.a)(this,void 0,void 0,function*(){this.a=0;for(let e=0;e<t.orderStatuses.length;e++)0==t.orderStatuses[e].isChecked?this.a=this.a+1:this.orderStatuses=t.orderStatuses[e].val;if(3==this.a)for(let e=0;e<t.restaurantStatuses.length;e++)1==t.restaurantStatuses[e].isChecked&&(this.orderStatuses=t.restaurantStatuses[e].val)})}viewOrder(t){this.isLoading=!1,this.countItems=0,this.cart=[],this.listOfOrderDetails.filter(e=>e.orderId==t).forEach(t=>{let e={CookingTime:this.listOfFood.find(e=>e.id==t.foodId).cookingTime,DeliveryTime:this.listOfFood.find(e=>e.id==t.foodId).deliveryTime,Description:this.listOfFood.find(e=>e.id==t.foodId).description,Name:this.listOfFood.find(e=>e.id==t.foodId).name,Price:this.listOfFood.find(e=>e.id==t.foodId).price,amount:t.qty,categoryId:this.listOfFood.find(e=>e.id==t.foodId).categoryId,id:t.foodId,picture:this.listOfFood.find(e=>e.id==t.foodId).picture,restaurantId:this.listOfFood.find(e=>e.id==t.foodId).restaurantId,type:this.listOfFood.find(e=>e.id==t.foodId).type,orderDetailsId:t.id,orderStatus:!0};this.cart.push(e),this.countItems=this.cart.length,console.log(this.countItems)}),this.orderService.addOrder(this.cart),this.router.navigate(["/menu/order-history"])}location(t){this.isLoading=!1,this.sharedService.status.next("order"),this.sharedService.RestaurantLocation.next(t),this.router.navigate(["/menu/location"])}segmentChanged(t){this.segment=t.detail.value}allOrder(t,e){this.isLoading=!0,this.modalController.create({component:a.a,cssClass:"customerOptions",componentProps:{data:t,id:e}}).then(t=>{t.present()})}sendMessage(t,e,i){this.sharedService.driverName.next(i),this.sharedService.deriverId.next(t),this.sharedService.customerId.next(e),this.router.navigate(["/message"])}callToDriver(t){this.callNumber.callNumber(t,!0).then(t=>console.log("Launched dialer!",t)).catch(t=>console.log("Error launching dialer",t))}refresh(){setTimeout(()=>{this.getOrder()})}refreshRestaurant(){setTimeout(()=>{this.getRestaurant(),this.getOrder(),this.getAccount()})}refreshProcessingTask(){setTimeout(()=>{this.getProcessingOrder()},200)}refreshCompleteTask(){setTimeout(()=>{this.getCompeletedOrder()},200)}refreshCancelTask(){setTimeout(()=>{this.getCancelledOrder()},200)}doRefresh(t){setTimeout(()=>{this.getOrder(),this.getProcessingOrder(),this.getCompeletedOrder(),this.getCancelledOrder(),t.target.complete()},2e3)}loadMoreData(t){return Object(c.a)(this,void 0,void 0,function*(){const e=yield this.toastController.create({message:"No More Datas",animated:!0,duration:2e3,buttons:[{text:"Done",role:"cancel",icon:"close"}]});null==t?this.currentPage=1:(this.currentPage++,this.orderService.getAllOrder().subscribe(i=>Object(c.a)(this,void 0,void 0,function*(){this.listArrayOfProduct=this.listArrayOfProduct.concat(i),1==t&&t.target.complete(),i.length<10&&(yield e.present(),t.target.disabled=!0)}),t=>Object(c.a)(this,void 0,void 0,function*(){console.log(t)})))})}}return t.\u0275fac=function(e){return new(e||t)(d.Qb(l.a),d.Qb(u.a),d.Qb(h.a),d.Qb(b.a),d.Qb(n.g),d.Qb(f.a),d.Qb(m.a),d.Qb(s.V),d.Qb(g.a),d.Qb(s.U),d.Qb(s.bb))},t.\u0275cmp=d.Kb({type:t,selectors:[["app-order"]],viewQuery:function(t,e){if(1&t&&d.Ic(p,1),2&t){let t;d.uc(t=d.hc())&&(e.pageTop=t.first)}},decls:30,vars:10,consts:[[3,"translucent"],["color","primary"],["slot","start"],["scrollEvents","true",3,"fullscreen","ionScroll"],["pageTop",""],["slot","fixed",3,"ionRefresh"],["scrollable","","value","All",2,"padding-top","70px",3,"ionChange"],["value","All"],["value","Processing"],["value","Completed"],["value","Cancelled"],[4,"ngIf"],["horizontal","end","vertical","bottom","slot","fixed",3,"ngClass"],["color","light",3,"click"],["md","chevron-up-outline","ios","chevron-up-circle-outline"],["class","ion-padding meal-row",3,"click",4,"ngFor","ngForOf"],["class","message",4,"ngIf"],[1,"ion-padding","meal-row",3,"click"],["size","8",1,"border-bottom"],["color","dark"],["size","4",1,"border-bottom"],[2,"color","#f8f9fa","background-color","#17a2b8","border-radius","5px","text-align","center"],[1,"message"],["class","ion-padding meal-row",4,"ngFor","ngForOf"],[1,"ion-padding","meal-row"],[2,"margin-top","-7px",3,"click"],["name","location-outline"],[2,"font-weight","bold"],["fill","clear",3,"click"],[2,"background-color","#2185d0","border-color","#2185d0","color","#fff","border-radius","0.28571429rem","margin",".25rem .5rem .25rem 0",3,"click"],[2,"border-radius","12px",3,"click"],["name","call"]],template:function(t,e){1&t&&(d.Vb(0,"ion-header",0),d.Vb(1,"ion-toolbar",1),d.Vb(2,"ion-buttons",2),d.Rb(3,"ion-menu-button"),d.Ub(),d.Vb(4,"ion-title"),d.Ec(5,"Recent orders"),d.Ub(),d.Ub(),d.Ub(),d.Vb(6,"ion-content",3,4),d.gc("ionScroll",function(t){return e.onScroll(t)}),d.Vb(8,"ion-refresher",5),d.gc("ionRefresh",function(t){return e.doRefresh(t)}),d.Rb(9,"ion-refresher-content"),d.Ub(),d.Vb(10,"ion-segment",6),d.gc("ionChange",function(t){return e.segmentChanged(t)}),d.Vb(11,"ion-segment-button",7),d.Vb(12,"ion-label"),d.Ec(13," All "),d.Ub(),d.Ub(),d.Vb(14,"ion-segment-button",8),d.Vb(15,"ion-label"),d.Ec(16," Processing "),d.Ub(),d.Ub(),d.Vb(17,"ion-segment-button",9),d.Vb(18,"ion-label"),d.Ec(19," Completed "),d.Ub(),d.Ub(),d.Vb(20,"ion-segment-button",10),d.Vb(21,"ion-label"),d.Ec(22," Cancelled "),d.Ub(),d.Ub(),d.Ub(),d.Cc(23,I,3,2,"ion-list",11),d.Cc(24,P,3,2,"ion-list",11),d.Cc(25,E,3,2,"ion-list",11),d.Cc(26,D,3,2,"ion-list",11),d.Vb(27,"ion-fab",12),d.Vb(28,"ion-fab-button",13),d.gc("click",function(){return e.pageScroller()}),d.Rb(29,"ion-icon",14),d.Ub(),d.Ub(),d.Ub()),2&t&&(d.oc("translucent",!0),d.Eb(6),d.oc("fullscreen",!0),d.Eb(17),d.oc("ngIf","All"===e.segment),d.Eb(1),d.oc("ngIf","Processing"===e.segment),d.Eb(1),d.oc("ngIf","Completed"===e.segment),d.Eb(1),d.oc("ngIf","Cancelled"===e.segment),d.Eb(1),d.oc("ngClass",d.sc(7,V,e.showScroll,!e.showScroll)))},directives:[s.r,s.R,s.j,s.A,s.P,s.l,s.C,s.D,s.H,s.Z,s.I,s.x,r.n,s.n,r.l,s.o,s.s,s.y,r.m,s.F,s.k,s.O,s.i],pipes:[r.f,r.d],styles:["ion-toolbar[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:25px}ion-content[_ngcontent-%COMP%]{position:absolute;--background:#f8f9fa;--padding-bottom:50px}ion-content[_ngcontent-%COMP%]   .orders[_ngcontent-%COMP%]{margin-top:58px}.light-bg[_ngcontent-%COMP%]{background:#fff;z-index:10}.meal-row[_ngcontent-%COMP%]{padding-bottom:0}.border-bottom[_ngcontent-%COMP%]{border-bottom:1px solid var(--ion-color-step-150,rgba(0,0,0,.07))}#map[_ngcontent-%COMP%]{width:60%;height:280px}.message[_ngcontent-%COMP%]{padding-top:83px;padding-left:12px;color:#337ab7;font-size:27px}ion-slides[_ngcontent-%COMP%]{padding-right:0;margin-top:34px;margin-bottom:-34px;background:#e9ecef;top:calc(env(safe-area-inset-top) - 34px)}.sticky-row[_ngcontent-%COMP%]{position:sticky;top:calc(env(safe-area-inset-top) - -55px);z-index:2;background:#e9ecef;box-shadow:0 9px 11px -15px rgba(0,0,0,.75);display:flex;flex-direction:row;align-items:flex-end}.message[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{padding-left:88px}.location-visible[_ngcontent-%COMP%]{opacity:1;transition:.5s}.location-hidden[_ngcontent-%COMP%]{opacity:0;transition:.5s}ion-segment[_ngcontent-%COMP%]{position:sticky;top:calc(env(safe-area-inset-top) - 0px);z-index:2;background:#eee;box-shadow:0 9px 11px -15px rgba(0,0,0,.75);display:flex;flex-direction:row;align-items:flex-end}"]}),t})()}];let T=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.Ob({type:t}),t.\u0275inj=d.Nb({imports:[[n.j.forChild(R)],n.j]}),t})(),L=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.Ob({type:t}),t.\u0275inj=d.Nb({imports:[[r.c,o.e,s.S,T]]}),t})()},"8D9V":function(t,e,i){"use strict";i.d(e,"a",function(){return l});var r=i("HDdC"),o=i("/GcI"),s=i("XEKg"),n=i("5Jak"),c=i("cxbk"),a=i("fXoL"),d=i("tk/3");let l=(()=>{class t{constructor(t){this.http=t,this.APIURL=c.a.apiURL}create(t){return this.http.post(this.APIURL+"/orderdetail",t)}getAllOrderDetail(){return this.http.get(this.APIURL+"/orderdetail")}updateOrderDetail(t){return this.http.put(this.APIURL+"/orderdetail/",t)}removeOrderDetail(t){return this.http.delete(this.APIURL+"/orderdetail/"+t).toPromise()}handleError(t){return r.a.throw(400===t.status?new s.a(t.json()):404===t.status?new n.a:new o.a(t))}}return t.\u0275fac=function(e){return new(e||t)(a.cc(d.a))},t.\u0275prov=a.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"Dkj+":function(t,e,i){"use strict";i.d(e,"a",function(){return l});var r=i("HDdC"),o=i("cxbk"),s=i("/GcI"),n=i("XEKg"),c=i("5Jak"),a=i("fXoL"),d=i("tk/3");let l=(()=>{class t{constructor(t){this.http=t,this.APIURL=o.a.apiURL}create(t){return this.http.post(this.APIURL+"/food",t)}getAllFood(){return this.http.get(this.APIURL+"/food")}updateFood(t){return this.http.put(this.APIURL+"/food/",t)}removeFood(t){return this.http.delete(this.APIURL+"/food/"+t).toPromise()}handleError(t){return r.a.throw(400===t.status?new n.a(t.json()):404===t.status?new c.a:new s.a(t))}}return t.\u0275fac=function(e){return new(e||t)(a.cc(d.a))},t.\u0275prov=a.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},QiK6:function(t,e,i){"use strict";i.d(e,"a",function(){return a});var r=i("cxbk"),o=i("2Vo4"),s=i("fXoL"),n=i("tk/3"),c=i("o4gM");let a=(()=>{class t{constructor(t,e){this.http=t,this.cart_itemService=e,this.APIURL=r.a.apiURL,this.cart=[],this.cartItemCount=new o.a(0),this.currentDate=(new Date).toISOString()}create(t){return this.http.post(this.APIURL+"/cart",t)}getAllCart(){return this.http.get(this.APIURL+"/cart")}updateCart(t){return this.http.put(this.APIURL+"/cart/",t)}removeCart(t){return this.http.delete(this.APIURL+"/cart/"+t).toPromise()}addToCart(t){this.cart.push(t)}addProduct(t){let e=!1;for(const i of this.cart)if(i.id===t.id){i.amount+=1,e=!0;break}e?this.updateCartItem(t):(t.amount=1,this.cart.push(t),this.cart_itemService.create({foodId:t.id,cartId:this.cartId,price:t.price,discount:0,quantity:t.amount,createdAt:t.cookingTime,updatedAt:this.currentDate,content:""}).subscribe(()=>{})),this.cartItemCount.next(this.cartItemCount.value+1)}decreaseProduct(t){for(const e of this.cart)e.id===t.id&&(e.amount-=1,this.updateCartItem(t),0===e.amount&&this.removeCartItem(t));this.cartItemCount.next(this.cartItemCount.value-1)}removeProduct(t){for(const[e,i]of this.cart.entries())i.id===t.id&&(this.cartItemCount.next(this.cartItemCount.value-i.amount),this.cart.splice(e,1),this.removeCartItem(t))}updateCartItem(t){console.log(t),this.cart_itemService.updateCartItem({id:t.id,foodId:t.foodId,cartId:0,price:t.price,discount:0,quantity:t.amount,createdAt:this.currentDate,updatedAt:this.currentDate,content:""}).subscribe(()=>{})}removeCartItem(t){this.cart_itemService.removeCartItem(t.id).then(()=>{})}}return t.\u0275fac=function(e){return new(e||t)(s.cc(n.a),s.cc(c.a))},t.\u0275prov=s.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},VNSQ:function(t,e,i){"use strict";i.d(e,"a",function(){return u});var r=i("mrSG"),o=i("2Vo4"),s=i("cxbk"),n=i("fXoL"),c=i("tk/3"),a=i("ldse"),d=i("QiK6"),l=i("o4gM");let u=(()=>{class t{constructor(t,e,i,r){this.http=t,this.sharedService=e,this.cartService=i,this.cart_itemService=r,this.APIURL=s.a.apiURL,this.cart=[],this.cartItemCount=new o.a(0),this.RestaurantId=new o.a({}),this.orderStatus=new o.a({}),this.order=[],this.orderItemCount=new o.a(0),this.getAllCart()}create(t){return Object(r.a)(this,void 0,void 0,function*(){return yield this.http.post(this.APIURL+"/order",t)})}getAllOrder(){return this.http.get(this.APIURL+"/order")}updateOrder(t){return this.http.put(this.APIURL+"/order/",t)}removeOrder(t){return this.http.delete(this.APIURL+"/order/"+t).toPromise()}getOrderBy(t){return this.http.get(this.APIURL+"/order"+t)}getOrderByDriverId(t){return this.http.get(this.APIURL+"/order"+t)}getCart(){return this.cart}getOrders(){return this.order}getCartItemCount(){return this.cartItemCount}getOrderItemCount(){return this.orderItemCount}getRestaurantId(){return this.RestaurantId}getOrderStatus(){return this.orderStatus}getAllCart(){this.cartService.getAllCart().subscribe(t=>{t.length>0&&(this.cartId=t[0].id)})}addOrder(t){this.order=[],this.amount=0,this.order.forEach(t=>{const e=this.order.indexOf(e=>e.orderDetailsId===t.orderDetailsId);this.order.splice(e,1)}),this.orderItemCount.next(0),t.forEach(t=>{this.amount=this.amount+t.amount,this.order.push({CookingTime:t.CookingTime,DeliveryTime:t.DeliveryTime,Description:t.Description,Name:t.Name,Price:t.Price,amount:t.amount,categoryId:t.categoryId,id:t.Food,picture:t.picture,restaurantId:t.restaurantId,type:t.type,orderDetailsId:t.orderDetailsId})}),this.orderItemCount.next(this.orderItemCount.value+this.amount)}addProduct(t){console.log(t);let e=!1;for(const i of this.cart)if(i.id===t.id){i.amount+=1,e=!0;break}e?this.updateCartItem(t):(t.amount=1,this.cart.push(t),this.cart_itemService.create({foodId:t.id,cartId:this.cartId,price:t.price,discount:0,quantity:t.amount,createdAt:t.cookingTime,updatedAt:this.currentDate,content:""}).subscribe(t=>{console.log(t.toString())})),this.cartItemCount.next(this.cartItemCount.value+1)}decreaseProduct(t){for(const[e,i]of this.cart.entries())i.id===t.id&&(i.amount-=1,this.updateCartItem(t.id),0===i.amount&&(this.cart.splice(e,1),this.removeCartItem(t)));this.cartItemCount.next(this.cartItemCount.value-1)}removeProduct(t){for(const[e,i]of this.cart.entries())i.id===t.id&&(this.cartItemCount.next(this.cartItemCount.value-i.amount),this.cart.splice(e,1),this.removeCartItem(t))}updateCartItem(t){this.cart_itemService.updateCartItem({foodId:t.id,cartId:this.cartId,price:t.price,discount:0,quantity:t.amount,createdAt:t.cookingTime,updatedAt:this.currentDate,content:""}).subscribe(t=>{console.log(t.toString())})}removeCartItem(t){this.cart_itemService.removeCartItem(t.id).then(t=>{console.log(t.toString())})}}return t.\u0275fac=function(e){return new(e||t)(n.cc(c.a),n.cc(a.a),n.cc(d.a),n.cc(l.a))},t.\u0275prov=n.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},ldse:function(t,e,i){"use strict";i.d(e,"a",function(){return s});var r=i("2Vo4"),o=i("fXoL");let s=(()=>{class t{constructor(){this.currentAddress=new r.a({}),this.restaurant=new r.a({}),this.status=new r.a({}),this.location=new r.a({}),this.orderId=new r.a({}),this.RestaurantLocation=new r.a({}),this.resId=new r.a({}),this.listOfCatagoryFilter=new r.a({}),this.deriverId=new r.a({}),this.customerId=new r.a({}),this.driverName=new r.a({})}getCurrentAddress(){return this.currentAddress}getMenuFilter(){return this.listOfCatagoryFilter}getLocation(){return this.location}getStatus(){return this.status}getRestaurantLocation(){return this.RestaurantLocation}getRestaurantId(){return this.resId}getDriverId(){return this.deriverId}getCustomerId(){return this.customerId}getDriverName(){return this.driverName}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},o4gM:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var r=i("cxbk"),o=i("fXoL"),s=i("tk/3");let n=(()=>{class t{constructor(t){this.http=t,this.APIURL=r.a.apiURL}create(t){return this.http.post(this.APIURL+"/cartitem",t)}getAllCartItem(){return this.http.get(this.APIURL+"/cartitem")}updateCartItem(t){return this.http.put(this.APIURL+"/cartitem/",t)}removeCartItem(t){return this.http.delete(this.APIURL+"/cartitem/"+t).toPromise()}}return t.\u0275fac=function(e){return new(e||t)(o.cc(s.a))},t.\u0275prov=o.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);